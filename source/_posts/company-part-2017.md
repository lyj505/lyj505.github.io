---
title: company-part-2017(I)
date: 2018-02-04 22:55:41
tags: [review]
categories: [review]
---

1.关于axios跨域的问题,最开始使用axios的时候,那时后台还没有分离,没用使用webapi的模式进行通讯。出现这个问题的根本是由于,系统代码部署在微信公众号的基础上,当本地调试的时候,如果没用使用业务正确的url的时候,导致访问后台接口跨域,在netwrok里面可以查看到那条请求的response header里面查看到location 已经是"https://open.weixin.qq.com/xxxx"(需要微信授权的页面)。
所以在分析是否跨域问题的时候,即使同源的请求,也需要看清楚自己代码的环境,以处理问题。
<!-- more -->
2.当时遇到一个svn的问题,从服务器端更新代码的时候,提示Working copy和文件被锁,当时有2种解决办法:
1. 通过database去删掉lock的数据。。(失败操作:下载了一个sqlite,然后将整个svn关联的那张表给删除了。。。导致无法用了,其实只需要删除对应出错的表数据即可)
2. 新建一个,重新拉取(感觉这个方法更傻了。。)

3.关于mui的上下拉刷新,实际上蛮坑的,看了源码,现在这个功能的需求是:
1. step1:要实现禁止下拉刷新 (这个可以有api)
2. step2:重新触发下拉刷新  (这个触发就会出现bug)
当时也去issue提了,好像现在还没结果。。。算了,毕竟是2015年ios7.0版本的ui框架了,可能也维护少了。
使用上vue+mui做上下拉刷新其实蛮简单的(处理好初始化,上下拉的api与ajax时候相结合,这里是有优化空间的),但是由于业务原因,并没有抽象出来组件,看上去也并不是想象中那么好维护。
3. 当时有个bug。。。明天去公司查看下日志,,忘了是什么处理的了(undo)

4.现在上传服务器由于远程服务器系统用的windows,整个iis驱动,所以这边为了方便也搞了一个FlashFXP的gui上传工具,实际上对于目前架构而言上传文件蛮方便,不管前端还是后端(cshtml以及静态资源与dll文件),只要建立一个对应的书签页,非常迅速,相比之前使用cli处理于服务器的文件上传,,,表示没搞过目前还是不会,即使这个blog的最简单的hexo g -d....(undo)

5.吐槽一下公司vs管理包工具nuget,真心难用,每次有更新,都要手动拉入,估计是我装了一个错误版本的中文版vs,连自带iis服务器也跑不起来,难受。。

6.signalr,这个就不多描述了,jquery+.net封装好的websocket双工通讯把,蛋疼的是做vue项目的时候为了做实时通讯,而多引入了一个jquery包,真的难受,以后看有空了看看websocket的降级处理吧,当然当时如果要改的话,后台估计也得大改,公司的需求快速产出,大家都懂的。

7.总得来说,管理资源还是得进一步,这个比较重要,对于懒人来说非常需要在合适的地方迅速找到合适的资源,不管公司的电脑还是家里的,不管系统win还是ubuntu或者是其他的,都需要有个统一的规划,所以是有必要规划一个云服务(百度云盘....)
8.之前为了用flex布局,还单独用autoprefixed写了一套flex的布局库,,直到后来发现了postcss,再也不用写autoprefixed了。。

###### Mon Feb 5 00:09:01 CST 2018 明天继续写,或者早上起来抢票的时候写

###### Mon Feb 5 19:56:24 CST 2018 早上又没起来,又错过passby的票...明天一定要起来抢票啊！

9.node-sass安装有点闹心~~,由于被墙的缘故,从远程下载包到本地安装,
需要
```
SET SASS_BINARY_SITE = C:\Users\liyj\Desktop\tools\win32-x64-51_binding.node
```
还要注意不同版本的nodejs需要不同的binding.node

10.想想平时用到的常用的几个vsc快捷键:

10.1、ctrl+p 打开文件搜索
10.2、ctrl+shift+p 打开热键列表(主要用来加js doc(or F1))
10.3、ctrl+shift+X 打开扩展,下载扩展
10.4、ctrl+shift+f 全局(本项目or解决方案)查找关键词
10.5、alt+F5   run code
10.6、ctrl+shift+y 打开终端
10.7、ctrl+k && ctrl+c 注释,这个主要是在vs里习惯了。。
10.8、ctrl+E  前端emmet经常用到的补全把
10.9、话说vsc的对比工具和git解决冲突是蛮好用的,难道是中文??...


11.最开始使用mui的ui框架考虑了很久,不过后来也没弃坑。。that too bad for coding without maintaining,想造轮子,没时间精力啊,逃。为了迎合大众的使用习惯,jquery+mui+vue+mvc == boom ~~~,公司组织架构如此。一来公司,给谁4000行cshtml,我想想很难接受。。

12.ui优化建议:将重要的,用户最需要的首先展现出来,不需要的可以收到fab按钮里面,多一个交互展开。

13.关于ionic2.0与ng4..本来准备用的,奈何webapp路由问题没有解决,还是算了,以后自己撸个app玩吧,毕竟有typescript啊。。我也想写mocha,jasmine 啊,写覆盖率啊,自动化测试(滑稽)。

14.之前技术选型时的考虑:
_关于web-font-end-structure-building_


#### app类型:(?????????)


**技术选型**
### way1
1. 类型:webapp,兼容端:微信,safari,andriod browser,uc,qq浏览器.
2. js框架:angular.(语法:es6,typescript===>es5)
3. 打包工具:webpack.
4. 测试工具:mocha?(暂时未决定,没使用过).
5. UI框架选型:ionic.(ionic内置的路由,没有记录地址,使用的是深层路由)
6. 数据源:开源api及本地jsonMock.
7. 任务工具:gulp(暂不用合并使用).
8. 开发优化,不计.
9. 前后端分离,本地使用apache 转发alias服务器。
10. ========>>>看了下对比,各大app选型,移动端的还是react比较多,方案采取react.
11. angular + materials =====>>pc端


### way2
2. js框架:vue.(语法:es6===>es5) vux
5. ui框架:未知.(========)
6. vue 适合小项目

15.想起来了之前几个微信表单验证,硬是有40几个,利用h5的validation和require的数量,进行自定义提示,如果像以前
```
if(notmeetend)return;
```
估计要写。。好多代码,用这种验证,相当于h5的自带验证提示,可以自定义样式,也蛮好用的。。其实难点在于自定义图片上传组件(个数 base64存,validata图片小于2M)和递归自定义省市区/省市/省(5,4,3,2,1级的联动~~,一个递归也可以解决了),这个上面蛮花功夫的。。so,coding is so cheap.以后有空整理一下,上次用fis写了一个小组件的~~~ 对了其实我个人认为,当时做这个需求的时候,没有分析好,因为pc有一个现成的模板,虽然是mvc的,这样现在分离出来写个移动端的表单验证,看上去好用,实际上以后维护是两套,所以作为复用的思维,这种做法是错误的。花时间去梳理业务逻辑何必呢。

16."play_js_rule_coding.txt",这个之后有空总结一下(undo)。

17.话说我webpack。。英文教程也刷了很多了,这个也可以单独写个,不过rollup,parcel(可能拼写错了)一出了,看了下打包速度,,,真的尴尬,我的webpack啊,刚用上就要放弃了吗~~

###### Mon Feb 5 23:17:21 CST 2018 先睡了。。。搞dat 笑死了。。

18.关于换肤的问题,mvc主要是生成一个ui替代的类,类似于xx-primary或者xx-danger的思路,作用于全局,换成sass或者less只需要轻松的初始化变量就好了。

19.不知道阿里的图标库修复由于有些不标准字体注入打包的时候出现错误的情况,之前遇到了一个问题...在aliicon网站上找图标。。然后放进去,整个图标库坏了,测试了20多次。。终于找到错误图标了。。。
###### Tue Feb 6 23:40:52 CST 2018 LLLLLCCCC 先睡了明天抢票。。
###### Wed Feb 7 19:22:27 CST 2018 终于抢到票了！forget tickets!


20.看了下之前刷了几道leetcode...现在回头看看,确实是条件都没读懂就开始写写写!不过这些限制条件确实也减少了不少的工作量,有空又要开始刷lc了。

21.关于秒杀/上下拉/ajax/自定义图标/增加删除图标/try unbuntu/正则 reback/js精度问题(位运算)/vuxss